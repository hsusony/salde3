# ุฏููู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
## Database Update Guide

ุชู ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ููุธุงู ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช. ูุฑุฌู ุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ ูุชุทุจูู ุงูุชุญุฏูุซุงุช.

---

## ๐ ุงูุญููู ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### 1. ุญููู ุงูุฃุณุนุงุฑ ูุงูุฎุตููุงุช
- `WholesalePrice` (DECIMAL) - ุณุนุฑ ุงูุจูุน ุจุงูุฌููุฉ
- `CartonPurchasePrice` (DECIMAL) - ุณุนุฑ ุดุฑุงุก ุงููุงุฑุชููุฉ
- `CartonSellingPrice` (DECIMAL) - ุณุนุฑ ุจูุน ุงููุงุฑุชููุฉ
- `DiscountPercent` (DECIMAL) - ูุณุจุฉ ุงูุฎุตู ุงูุซุงุจุชุฉ
- `TaxBuy` (DECIMAL) - ุถุฑูุจุฉ ุงูุดุฑุงุก
- `TaxSell` (DECIMAL) - ุถุฑูุจุฉ ุงูุจูุน
- `ExemptFromTax` (BIT) - ูุนูุงุฉ ูู ุงูุถุฑูุจุฉ

### 2. ุงูุจูุงูุงุช ุงูุฅุถุงููุฉ
- `Specifications` (NVARCHAR) - ุงูููุงุตูุงุช
- `Source` (NVARCHAR) - ุงููุตุฏุฑ
- `UnitNumber` (NVARCHAR) - ุฑูู ุงููุญุฏุฉ
- `Location` (NVARCHAR) - ุงููููุน
- `MinLimit` (DECIMAL) - ุงูุญุฏ ุงูุฃุฏูู
- `SerialNumber` (NVARCHAR) - ุชุณูุณู ุงูุนุงุฏุฉ
- `Note` (NVARCHAR) - ุงูููุงุญุธุฉ

---

## ๐ง ุฎุทูุงุช ุงูุชุทุจูู

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช SQL Server

1. ุงูุชุญ **SQL Server Management Studio (SSMS)**
2. ุงุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช `SalesDB`
3. ุงูุชุญ ุงูููู: `database/add_new_product_fields.sql`
4. ูู ุจุชูููุฐ ุงูุณูุฑูุจุช (F5 ุฃู Execute)

```sql
-- ุณูุชู ุฅุถุงูุฉ ุฌููุน ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ ุชููุงุฆูุงู
-- ุงูุณูุฑูุจุช ูุชุญูู ูู ูุฌูุฏ ุงูุนููุฏ ูุจู ุฅุถุงูุชู ูุชุฌูุจ ุงูุฃุฎุทุงุก
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช

ูู ุจุชุดุบูู ุงูุงุณุชุนูุงู ุงูุชุงูู ููุชุฃูุฏ ูู ุฅุถุงูุฉ ุฌููุน ุงูุฃุนูุฏุฉ:

```sql
SELECT COLUMN_NAME, DATA_TYPE 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_NAME = 'Products'
ORDER BY ORDINAL_POSITION;
```

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุดุบูู Backend API (ุงุฎุชูุงุฑู)

ุฅุฐุง ูุงู Backend PHP ูุนููุ ูู ุจุฅุนุงุฏุฉ ุชุดุบููู:

```bash
cd backend-php
start.bat
```

### ุงูุฎุทูุฉ 4: ุฅุนุงุฏุฉ ุชุดุบูู Flutter App

```bash
flutter run -d windows
```

---

## โ ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช

### ูู Flutter App:
1. ุงูุชุญ ุตูุญุฉ ุงูููุชุฌุงุช
2. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ"
3. ุชุฃูุฏ ูู ุธููุฑ 5 ุชุจููุจุงุช:
   - ุนุงู
   - ุงูุฎุตููุงุช
   - ุจูุงูุงุช ุฅุถุงููุฉ
   - ุญุฑูุฉ ุงููุงุฏุฉ
   - ุชุงุฑูุฎ ุงูุชุนุฏููุงุช

### ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```sql
-- ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุชุฌ ุจุงูุญููู ุงูุฌุฏูุฏุฉ
INSERT INTO Products (ProductName, Barcode, CategoryID, UnitID, PurchasePrice, SalePrice, WholesalePrice, DiscountPercent, TaxBuy, TaxSell, IsActive)
VALUES ('ููุชุฌ ุชุฌุฑูุจู', '123456', 1, 1, 100.00, 150.00, 140.00, 5.00, 2.00, 3.00, 1);

-- ุงูุชุญูู ูู ุงูุจูุงูุงุช
SELECT * FROM Products WHERE ProductName = 'ููุชุฌ ุชุฌุฑูุจู';
```

---

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### Flutter (Dart):
- โ `lib/models/product.dart` - ุชู ุฅุถุงูุฉ ุงูุญููู ุงูุฌุฏูุฏุฉ
- โ `lib/widgets/product_form_dialog.dart` - ุชู ุฑุจุท ุงูุญููู ุจุงููููุฐุฌ

### Backend (PHP):
- โ `backend-php/models/Product.php` - ุชู ุชุญุฏูุซ INSERT ู UPDATE

### Database (SQL):
- โ `database/add_new_product_fields.sql` - ุณูุฑูุจุช ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ูููุตุญ ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงูุชุทุจูู
2. **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ**: ุฌููุน ุงูููุชุฌุงุช ุงูููุฌูุฏุฉ ุณุชุญุชูุธ ุจุจูุงูุงุชูุงุ ูุงูุญููู ุงูุฌุฏูุฏุฉ ุณุชููู NULL
3. **ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ**: ุฌููุน ุงูุญููู ุงูุฌุฏูุฏุฉ ุงุฎุชูุงุฑูุฉ (NULL)
4. **ุงูุชูุงูู**: ุงูุชุญุฏูุซุงุช ูุชูุงููุฉ ูุน SQL Server 2008 ููุง ููู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ุฎุทุฃ ูู ุชูููุฐ SQL Script
**ุงูุญู**: ุชุฃูุฏ ูู ุชุดุบูู SSMS ุจุตูุงุญูุงุช ุงููุณุคูู

### ูุดููุฉ: ุญููู ูุง ุชุธูุฑ ูู Flutter
**ุงูุญู**: 
1. ุชุฃูุฏ ูู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุฃุนุฏ ุชุดุบูู Backend API
3. ุฃุนุฏ ุชุดุบูู Flutter App

### ูุดููุฉ: ุฎุทุฃ ุนูุฏ ุญูุธ ุงูููุชุฌ
**ุงูุญู**: ุชุญูู ูู ุณุฌูุงุช PHP ูู `backend-php/logs/`

---

## ๐ ุงูุฏุนู

ูู ุญุงู ูุฌูุฏ ุฃู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ**: 11 ููููุจุฑ 2025
